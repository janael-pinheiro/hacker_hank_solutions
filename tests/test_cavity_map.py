from hacker_hank.cavity_map import cavity_map


def test_cavity_map():
    grid = ["487439976546459729687814652479194134736985134357163726422897312712289453171964551192599114533978963",
            "941722845564582245197419892828192384765166632454484821519644331294316864776839792395253114331568511",
            "762937727487225654165766981699897872321776311125993992924735473133852348693658735714258136845898882",
            "715119883685333471398516641655123965241743829126627916845778241756274681271479956467874548956287917",
            "338252823238755197293343826473628334694637921621368369497651872786419254352451775835245223873514941",
            "115382855683687864727288489368454633454847919228243353967874555331142533775669859612941131951384628",
            "281723936186335277298772416923826553146238623863594216133147846647757196964893716429426147742921349",
            "694681394522295687258345773124442545222318256445156271372986979123586453876284432319139682374931631",
            "746341941481841659599757457636661691531733235987125367871934955568252882751974829771939925743467416",
            "863833846561847666985735549232957773754682632962592782952816713892792571212562875547238867995878287"]
    expected = [
        "487439976546459729687814652479194134736985134357163726422897312712289453171964551192599114533978963",
        "9417228455645X22451X741X8X2X281923X476516663245448482151X6443312X4316X6477683X7X2395253114331568511",
        "762X3772X487225X54165X66X81699897872321776311125993992X247354X3133X5234X6X3658735X1425X1368458X8882",
        "71511X883685333471398516641655123X6524174382X12662791684577X2417562X46X127147995X467X74X48X5X287917",
        "33X25282323X7551X7293343X264X3X2X3346X4637921X2136X36X4X7651X727X641X254352451775X3524X223873X14941",
        "1153X28556836X7X64X2728848X36X4X4X33454X4791X22X243353X67X74555331142X3377566X85X612X41131X513X4628",
        "281X23X3X1863352772X8772416X23X2X55314X238623X635X421X13314784664775X1X6X648X3716429426147742921349",
        "6X46X13X4X222X56X725834577312444254X22231825X44515X2X137298697X1235X64538762844323191396X23X4931X31",
        "74X341X414X184165X59975X4576366616X1531X3323598712536787193495556X252882751X7482X771X39925743467416",
        "863833846561847666985735549232957773754682632962592782952816713892792571212562875547238867995878287"]
    output = cavity_map(grid)
    assert output == expected
